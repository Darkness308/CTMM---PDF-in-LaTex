\ProvidesPackage{form-elements}[2025/07/01 CTMM Form Elements v1.0.0]

% Required packages
\RequirePackage{tikz}
\RequirePackage{xcolor}
\RequirePackage{ifthen}
\RequirePackage{calc}

% Wichtig fÃ¼r \@ifpackageloaded
\makeatletter
% Check if hyperref is loaded for interactive forms
\@ifpackageloaded{hyperref}{%
    \newcommand{\@ctmmInteractive}{true}%
}{%
    \newcommand{\@ctmmInteractive}{false}%
}
\makeatother

% Text Field
\newcommand{\ctmmTextField}[3][4cm]{%
    \ifthenelse{\equal{\@ctmmInteractive}{true}}{%
        \TextField[name=#3,width=#1,bordercolor=ctmmBlue,backgroundcolor=white]{#2}%
    }{%
        #2 \underline{\hspace{#1}}%
    }%
}

% Text area - vereinfacht
\newcommand{\ctmmTextArea}[4][8cm]{%
    \ifthenelse{\equal{\@ctmmInteractive}{true}}{%
        \TextField[name=#4,width=#1,height=#3,multiline=true,bordercolor=ctmmBlue]{#2}%
    }{%
        #2\\%
        \underline{\hspace{#1}}\\%
        \underline{\hspace{#1}}\\%
        \ifnum#3>2\underline{\hspace{#1}}\\\fi
    }%
}

% Checkbox
\newcommand{\ctmmCheckBox}[2][]{%
    \ifthenelse{\equal{\@ctmmInteractive}{true}}{%
        \CheckBox[name=#1,bordercolor=ctmmGreen]{#2}%
    }{%
        \raisebox{-0.15ex}{\tikz{\draw[color=ctmmGreen] (0,0) rectangle (0.3,0.3);}} #2%
    }%
}

% Radio Button - korrigiert
\newcommand{\ctmmRadioButton}[3]{%
    \ifthenelse{\equal{\@ctmmInteractive}{true}}{%
        \CheckBox[name=#1,value=#2,radio=true,bordercolor=ctmmOrange]{#3}%
    }{%
        \raisebox{-0.05ex}{\tikz{\draw[color=ctmmOrange] (0,0) circle (0.15);}} #3%
    }%
}

% Yes/No Checkbox pair
\newcommand{\ctmmYesNo}[1]{%
    \ctmmCheckBox[#1yes]{Ja} \quad \ctmmCheckBox[#1no]{Nein}%
}