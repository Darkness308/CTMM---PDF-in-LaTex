\ProvidesPackage{style/ctmm-diagrams}[2025/07/01 CTMM Diagram Library]

\RequirePackage{tikz}
\usetikzlibrary{shapes.geometric, arrows.meta, positioning}

% Trigger-Loop-Diagramm
\newcommand{\ctmmTriggerLoop}{%
\begin{center}
\begin{tikzpicture}[
    node distance=2.5cm and 2.5cm,
    mybox/.style={circle, draw, text width=2cm, align=center},
    arrow/.style={-Stealth, thick, color=black}
]
    \node[mybox, fill=ctmmBlue!20, text=ctmmBlue] (erkennen) {ERKENNEN};
    \node[mybox, fill=ctmmGreen!20, text=ctmmGreen, right=of erkennen] (vorbeugen) {VORBEUGEN};
    \node[mybox, fill=ctmmOrange!20, text=ctmmOrange, below=of vorbeugen] (reagieren) {REAGIEREN};
    \node[mybox, fill=ctmmPurple!20, text=ctmmPurple, left=of reagieren] (lernen) {LERNEN};

    \draw[arrow] (erkennen) -- (vorbeugen);
    \draw[arrow] (vorbeugen) -- (reagieren);
    \draw[arrow] (reagieren) -- (lernen);
    \draw[arrow] (lernen) -- (erkennen);
\end{tikzpicture}
\end{center}
}