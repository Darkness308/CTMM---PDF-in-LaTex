% main_final.tex - CTMM CI Build Target
% This file is specifically designed for Continuous Integration builds
% It includes all modules and is the canonical version for release builds

\documentclass[a4paper,12pt]{article}

% Pakete
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{geometry}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{fontawesome5}
\usepackage{tcolorbox}
\usepackage{tabularx}
\usepackage{amssymb}

% CTMM Pakete
\usepackage{style/ctmm-design}
\usepackage{style/form-elements}
\usepackage{style/ctmm-diagrams}

% Dokumentenkonfiguration
\geometry{
  a4paper,
  margin=2.5cm,
  top=3cm,
  bottom=3cm
}

\hypersetup{
  colorlinks=false,
  pdfborder={0 0 0},
  pdftitle={CTMM-System - Interaktives Therapie-Workbook (CI Build)},
  pdfauthor={CTMM-Team},
  pdfsubject={Therapiematerialien mit ausfüllbaren Formularen},
  pdfkeywords={CTMM, Therapie, Trigger, Borderline, ADHS, ASS, KPTBS, interaktiv, CI},
  pdfcreator={LaTeX mit hyperref - CI Build},
  pdfproducer={pdfLaTeX CI Pipeline},
  % Formular-spezifische Einstellungen
  bookmarksopen=true,
  bookmarksopenlevel=1,
  % Für bessere Formularkompatibilität
  pdfencoding=auto,
  unicode=true
}

\begin{document}

\title{%
  {\Huge\textcolor{ctmmBlue}{CTMM-System}}\\
  \vspace{0.5cm}
  {\Large\textcolor{ctmmOrange}{Catch-Track-Map-Match}}\\
  \vspace{0.5cm}
  {\normalsize\textcolor{ctmmGreen}{Therapiematerialien für neurodiverse Paare}}\\
  \vspace{0.3cm}
  {\footnotesize\textcolor{gray}{CI Build - \today}}
}
\author{CTMM-Team}
\date{\today}
\maketitle

\tableofcontents
\newpage

\section*{\textcolor{ctmmBlue}{\faCompass~CTMM-System Übersicht}}
\addcontentsline{toc}{section}{CTMM-System Übersicht}

\begin{ctmmBlueBox}{Was ist CTMM?}
\textbf{CTMM} steht für \textbf{Catch-Track-Map-Match} -- ein System zur Bewältigung von Triggern und Beziehungsherausforderungen:

\begin{itemize}
    \item \textcolor{ctmmBlue}{\textbf{Catch:}} Trigger erkennen
    \item \textcolor{ctmmGreen}{\textbf{Track:}} Gefühl \& Situation verfolgen  
    \item \textcolor{ctmmOrange}{\textbf{Map:}} Muster verstehen
    \item \textcolor{ctmmPurple}{\textbf{Match:}} Handlung anpassen
\end{itemize}
\end{ctmmBlueBox}

% Module einbinden - CI Version mit allen Modulen
\input{modules/navigation-system}
\input{modules/depression}
\input{modules/bindungsleitfaden}
\input{modules/triggermanagement}
\input{modules/notfallkarten}
\input{modules/safewords}
\input{modules/interactive}
\input{modules/qrcode}
\input{modules/therapiekoordination}
\input{modules/selbstreflexion}

\newpage
\part*{KAPITEL 5: ARBEITSBLÄTTER}
\addcontentsline{toc}{part}{KAPITEL 5: ARBEITSBLÄTTER}

\input{modules/arbeitsblatt-checkin}
\input{modules/arbeitsblatt-trigger}
\input{modules/arbeitsblatt-depression-monitoring}
\input{modules/demo-interactive}

% CI Build Information
\newpage
\section*{Build Information}
\addcontentsline{toc}{section}{Build Information}

\begin{ctmmBlueBox}{CI Build Details}
\begin{itemize}
    \item \textbf{Build Target:} main\_final.tex
    \item \textbf{Build Date:} \today
    \item \textbf{Purpose:} Continuous Integration and Release
    \item \textbf{Status:} Production Ready
\end{itemize}

This document was built using the CTMM Build Manager system in a CI/CD pipeline to ensure consistency and quality.
\end{ctmmBlueBox}

\end{document}